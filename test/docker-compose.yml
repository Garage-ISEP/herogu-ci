version: "3"
services: 
  app:
    build:
      context: https://github.com/Totodore/herogu-test-php.git#main
      dockerfile: docker/Dockerfile
    container_name: herogu-test-php
    volumes: 
      - "data:/data"
    expose:
      - 80
    ports:
      - 8080:80
    networks: 
      - "web"
    labels: 
      docker-ci.enable: "true"
      docker-ci.repo: https://github.com/Totodore/herogu-test-php.git#main
      docker-ci.dockerfile: docker/Dockerfile
      # docker-ci.auth-server: ghcr.io
      # docker-ci.username: totodore
      # docker-ci.password: dc40612a01f34ea5a2c073e2203edfd2b65003a0
      # docker-ci.webhook-callback: 'true'

networks: 
  web:
    external: true

volumes: 
  data: